# 💕 ON:DAM

## 👨‍💻 DEVELOPERS

<br><br>

# 🔖 목차

<br><br>

# 📢 프로젝트 개요

<br><br>

# 🛠️기술 스택
### FrontEnd
![Vue](https://img.shields.io/badge/Vue%203-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
![HTML](https://img.shields.io/badge/HTML-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![CSS](https://img.shields.io/badge/CSS-1572B6?style=for-the-badge&logo=css3&logoColor=white)
![JSON Server](https://img.shields.io/badge/JSON%20Server-black?style=for-the-badge)

### BackEnd
![Java](https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white)
![SpringBoot](https://img.shields.io/badge/springBoot-6DB33F?style=for-the-badge&logo=spring&logoColor=white)

### DataBase
![MariaDB](https://img.shields.io/badge/mariaDB-003545?style=for-the-badge&logo=mariaDB&logoColor=white")

### Tool
![GitHub](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white)
![Visual Studio Code](https://img.shields.io/badge/Visual%20Studio%20Code-007ACC?style=for-the-badge&logo=visual-studio-code&logoColor=white)
![Figma](https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=white)

<br><br>

# 🪄 시스템 아키텍처

<br><br>

# 💡 주요 기능

<br><br>

# 🙆‍♀️ 요구사항 명세서
🔗 <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vR__7O6DlnXXUGEaxhkK_3oesVtv2Zx80H0IAnnmE2s9OVIhTcCT-D-HdJnyqEubRVIg5wPHXdzKU84/pubhtml?gid=1463868282&single=true"> 요구사항 명세서 자세히 보기</a><br>
<img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/RequirementSpecification/SRS.png?raw=true" width = "1000"/>

<br><br>

# 📅 WBS
🔗 <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vR__7O6DlnXXUGEaxhkK_3oesVtv2Zx80H0IAnnmE2s9OVIhTcCT-D-HdJnyqEubRVIg5wPHXdzKU84/pubhtml?gid=2031264111&single=true"> WBS 자세히 보기</a><br> <br>
<img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/WBS/wbs.png?raw=true" width = "1000"/>

<br><br>

# 💭 DDD 설계

<details><summary> DDD 1차 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/DDD/DDD_1st.jpg"/>
</details>

<details><summary> DDD 2차 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/DDD/DDD_2nd.jpg"/>
</details>

<details><summary> DDD 3차 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/DDD/DDD_3rd.jpg"/>
</details>

<details><summary> DDD 4차 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/DDD/DDD_4th.jpg"/>
</details>

<details><summary> Context Mapping </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/DDD/ContextMapping.jpg"/>
</details>

<br><br>

# 🗃️ DB 모델링
## 논리 모델링


## 물리 모델링

<br><br>

# 🖼️ 화면 설계
## 와이어 프레임
<img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/WireFrame.png"/>

## UI 설계
### 0. Main
<details><summary>메인 화면</summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/main/main.png?raw=true" width="100%" />
</details>

### 1. Member

### 2. Counselee
<details><summary>내담자 등록</summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/counsel/insert_counselee.png?raw=true" width="100%" />
</details>

<details><summary>내담자별 상담 일지 조회</summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/counsel/counselees.png?raw=true" width="100%" />
</details>

### 3. Counsel
<details><summary>상담 일지 작성</summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/counsel/create_counsel.png?raw=true" width="100%" />
</details>

<details><summary>상담 일지 작성 취소</summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/counsel/cancel_counsel.png?raw=true" width="100%" />
</details>

### 4. Analysis
<details><summary>상담 일지 상세 확인</summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/counsel/counsel_1.png?raw=true" width="100%" /> <br />
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/counsel/counsel_2.png?raw=true" width="100%" />
</details>

### 5. Diary
<details><summary> 내 일기 목록 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/diary/DiaryPage.png"/>
</details>

<details><summary> 내 일기 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/diary/MyDiary.png"/>
</details>

<details><summary> 받은 답장 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/diary/ReceivedReply.png"/>
</details>

<details><summary> 일기 작성창 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/diary/WriteDiaryModal.png"/>
</details>

<details><summary> 내가 받은 오늘의 일기 목록 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/diary/ReceivedDiaryPage.png"/>
</details>

<details><summary> 오늘의 일기 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/diary/ReceivedDiary.png"/>
</details>

### 6. Reply
<details><summary> 답장 작성창 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/diary/WriteReplyModal.png"/>
</details>

<details><summary> 내가 보낸 답장 목록 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/diary/MyReplyListPage.png"/>
</details>

<details><summary> 내가 보낸 답장 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/ScreenDesign/diary/MyReply.png"/>
</details>

### 7. Report

<br><br>

# 📑 API 명세서

### 1. Member
<details><summary> 전체 회원 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/member/select_all_member.png" width="600" />
</details>

<details><summary> id로 회원 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/member/select_member_by_id.png" width="600" />
</details>

<details><summary> id 찾기 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/member/find_id.png" width="600" />
</details>

<details><summary> 비밀번호 찾기 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/member/find_pwd.png" width="600" />
</details>

<details><summary> 로그인 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/member/login.png" width="600" />
</details>

<details><summary> 비밀번호 변경 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/member/change_password.png" width="600" />
</details>

<details><summary> 회원 탈퇴 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/member/delete_member.png" width="600" />
</details>

### 2. Counselee
<details><summary> id로 내담자 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counselee/select_counselee_by_id.png" width="600" />
</details>

<details><summary> 상담자id로 내담자 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counselee/select_counselee_by_counselor_id.png" width="600" />
</details>

<details><summary> 내담자 생성 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counselee/create_counselee.png" width="600" />
</details>

<details><summary> 내담자 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counselee/delete_counselee.png" width="600" />
</details>

<details><summary> 내담자 이름 검색 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counselee/search_counselee_name.png" width="600" />
</details>

<details><summary> 상담자id로 내담자 수 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counselee/select_counselee_count_by_counselor_id.png" width="600" />
</details>

<details><summary> 상담자id로 활성화 내담자 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counselee/select_activated_counselee_by_counselor_id.png" width="600" />
</details>

### 3. Counsel
<details><summary> 상담사id로 상담 기록 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counsel/select_counsel_by_counselor_id.png" width="600" />
</details>

<details><summary> 내담자id로 상담 기록 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counsel/select_counsel_by_counselee_id.png" width="600" />
</details>

<details><summary> 상담 기록 상세 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counsel/select_counsel_detail.png" width="600" />
</details>

<details><summary> 기간별 상담 기록 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counsel/select_counsel_by_timestamp.png" width="600" />
</details>

<details><summary> 예정된 상담 기록 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counsel/select_counsel_future.png" width="600" />
</details>

<details><summary> 상담 생성 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counsel/create_counsel.png" width="600" />
</details>

<details><summary> 상담 수정 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counsel/update_counsel.png" width="600" />
</details>

<details><summary> 다음 상담 일시 등록 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counsel/patch_counsel_next_date.png" width="600" />
</details>

<details><summary> 상담 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/counsel/delete_counsel.png" width="600" />
</details>

### 4. Analysis
<details><summary> ChatGPT 분석 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/analysis/ChatGPT.png" width="600" />
</details>

<details><summary> 상담id로 분석 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/analysis/select_analysis_by_counsel_id.png" width="600" />
</details>

### 4-1. Emotion
<details><summary> 감정 등록 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/analysis/create_emotion.png" width="600" />
</details>

<details><summary> 감정 수정 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/analysis/update_emotion.png" width="600" />
</details>

<details><summary> 감정 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/analysis/delete_emotion.png" width="600" />
</details>

### 4-2. Emotion Category
<details><summary> 감정 카테고리 등록 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/analysis/create_emotion_category.png" width="600" />
</details>

<details><summary> 감정 카테고리 수정 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/analysis/update_emotion.png" width="600" />
</details>

<details><summary> 감정 카테고리 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/analysis/delete_emotion_category.png" width="600" />
</details>

### 5. Diary
<details><summary> 전체 일기 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diary/select_all_diary.png" width="600" />
</details>

<details><summary> 일기id로 일기 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diary/select_diary_by_diary_id.png" width="600" />
</details>

<details><summary> 작성자id로 일기 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diary/select_diary_by_writer_id.png" width="600" />
</details>

<details><summary> 일기 작성 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diary/create_diary.png" width="600" />
</details>

<details><summary> 일기 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diary/delete_diary.png" width="600" />
</details>

### 5-1. Diary Record
<details><summary> 전체 일기 발송 기록 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diaryRecord/select_all_diaryRecord.png" width="600" />
</details>

<details><summary> id로 일기 발송 기록 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diaryRecord/select_diaryRecord_by_id.png" width="600" />
</details>

<details><summary> 일기id로 일기 발송 기록 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diaryRecord/select_diaryRecord_by_diary_id.png" width="600" />
</details>

<details><summary> 수신자로 일기 발송 기록 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diaryRecord/select_diaryRecord_by_receiver_id.png" width="600" />
</details>

<details><summary> 일기id, 수신자id로 일기 발송 기록 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diaryRecord/select_diaryRecord_by_diaryId_receiverId.png" width="600" />
</details>

<details><summary> 일기 발송 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/diaryRecord/send_diary.png" width="600" />
</details>

### 6. Reply
<details><summary> 답장 전체 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/reply/select_all_reply.png" width="600" />
</details>

<details><summary> id로 답장 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/reply/select_reply_by_id.png" width="600" />
</details>

<details><summary> 일기id로 답장 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/reply/select_reply_by_diary_id.png" width="600" />
</details>

<details><summary> 작성자id로 답장 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/reply/select_reply_by_writer_id.png" width="600" />
</details>

<details><summary> 답장 작성 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/reply/write_reply.png" width="600" />
</details>

<details><summary> 답장 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/reply/delete_reply.png" width="600" />
</details>

### 7. Report
<details><summary> 신고 전체 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/all_report.png" width="600" />
</details>

<details><summary> 신고 상세 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/report_detail.png" width="600" />
</details>

<details><summary> 신고 컨텐츠 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/select_category_content.png" width="600" />
</details>

<details><summary> 신고 카테고리 전체 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/select_all_report_category.png" width="600" />
</details>

<details><summary> 일기 신고 등록 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/report_diary.png" width="600" />
</details>

<details><summary> 답장 신고 등록 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/report_reply.png" width="600" />
</details>

<details><summary> 신고 처리 상태 변경 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/report_update.png" width="600" />
</details>

<details><summary> 신고 승인된 일기/답장 블라인드 처리 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/blind_report.png" width="600" />
</details>

<details><summary> 신고 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/delete_report.png" width="600" />
</details>

<details><summary> 신고 카테고리 등록 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/create_report_category.png" width="600" />
</details>

<details><summary> 신고 카테고리 수정 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/update_report_category.png" width="600" />
</details>

<details><summary> 신고 카테고리 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/PostmanPictureAPI/report/delete_report_category.png" width="600" />
</details>


<br><br>

# 🚩 단위 테스트
<img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Summary.png" width="600" />

<details>
  
  ### 1. Member
  <details><summary> Summary </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Member/MemberTestSummary.png" width="600" />
  </details>
  
  <details><summary> Member Command Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Member/MemberCommandTest.png" width="600" />
  </details>
  
  <details><summary> Member Query Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Member/MemberQueryTest.png" width="600" />
  </details>
  
  ### 2. Counselee
  <details><summary>  </summary>
    <img src="">
  </details>
  
  ### 3. Counsel
  <details>
    <img src="">
  </details>
  
  ### 4. Analysis
  <details><summary> Summary </summary>
    <img src="">
  </details>
  
  <details><summary> Analysis Command Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Analysis/AnalysisCommandTest.png" width="600" />
  </details>
  
  <details><summary> Analysis Query Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Analysis/AnalysisQueryTest.png" width="600" />
  </details>
  
  <details><summary> Emotion Category Command Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Analysis/EmotionCategoryCommandTest.png" width="600" />
  </details>
  
  <details><summary> Emotion Category Command Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Analysis/EmotionCommandTest.png" width="600" />
  </details>
  
  ### 5. Diary
  <details><summary> Summary </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Diary/DiaryTestSummary.png" width="600" />
  </details>
  
  <details><summary> Diary Command Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Diary/DiaryCommandTest.png" width="600" />
  </details>
  
  <details><summary> Diary Query Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Diary/DiaryQueryTest.png" width="600" />
  </details>
  
  ### 6. Diary Record
  <details><summary> Summary </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/DiaryRecord/DiaryRecordTestSummary.png" width="600" />
  </details>
  
  <details><summary> Diary Record Command Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/DiaryRecord/DiaryRecordCommandTest.png" width="600" />
  </details>
  
  <details><summary> Diary Record Query Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/DiaryRecord/DiaryRecordQueryTest.png" width="600" />
  </details>
  
  ### 7. Reply
  <details><summary> Summary </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Reply/ReplyTestSummary.png" width="600" />
  </details>
  
  <details><summary> Reply Command Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Reply/ReplyCommandTest.png" width="600" />
  </details>
  
  <details><summary> Reply Query Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Reply/ReplyQueryTest.png" width="600" />
  </details>
  
  ### 8. Report
  <details><summary> Summary </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Report/ReportTestSummary.png" width="600" />
  </details>
  
  <details><summary> Report Category Command Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Report/ReportCategoryCommandTest.png" width="600" />
  </details>
  
  <details><summary> Report Command Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Report/ReportCommandTest.png" width="600" />
  </details>
  
  <details><summary> Report Query Test </summary>
    <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/TestCase/Report/ReportQueryTest.png" width="600" />
  </details>
  
</details>

<br><br>

# ✍🏻 API TEST

### 1. Member
### 2. Counselee
### 3. Counsel
### 4. Analysis
### 5. Diary
<details><summary> 일기 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/GIF/diary/DiaryPage.gif"/>
</details>

<details><summary> 일기 작성 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/GIF/diary/WriteDiary.gif"/>
</details>

<details><summary> 일기 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/GIF/diary/DeleteDiary.gif"/>
</details>

### 6. Reply
<details><summary> 답장 조회 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/GIF/diary/ReadReply.gif"/>
</details>

<details><summary> 답장 작성 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/GIF/diary/WriteReply.gif"/>
</details>

<details><summary> 답장 삭제 </summary>
  <img src="https://github.com/Pive-Guyz/ondam-backend/blob/develop/document/GIF/diary/DeleteMyReply.gif"/>
</details>

### 7. Report

<br><br>

# 🛜 배포

<details><summary>🌐 Ingress 설정 (ondam-ingress)</summary>

```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ondam-ingress
  namespace: ondam
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
spec:
  ingressClassName: nginx
  rules:
    - http:
        paths:
          - path: /api
            pathType: Prefix
            backend:
              service:
                name: ondam-back-ser
                port:
                  number: 8080
          - path: /
            pathType: Prefix
            backend:
              service:
                name: ondam-front-ser
                port:
                  number: 80
```

</details>

<details><summary>🚀 Backend Deployment (ondam-back-dep)</summary>

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ondam-back-dep
  namespace: ondam
spec:
  replicas: 1
  selector:
    matchLabels:
      app: ondam-backend
  template:
    metadata:
      labels:
        app: ondam-backend
    spec:
      containers:
        - name: ondam-backend
          image: morris235/ondam-backend:latest
          imagePullPolicy: Always
          ports:
            - containerPort: 8080
```

</details>

<details><summary>🔧 Backend Service (ondam-back-ser)</summary>

```yaml
apiVersion: v1
kind: Service
metadata:
  name: ondam-back-ser
  namespace: ondam
spec:
  type: NodePort
  selector:
    app: ondam-backend
  ports:
    - protocol: TCP
      port: 8080
      targetPort: 8080
      nodePort: 30083
```

</details>

<details><summary>🚀 Frontend Deployment (ondam-front-dep)</summary>

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ondam-front-dep
  namespace: ondam
spec:
  replicas: 1
  selector:
    matchLabels:
      app: ondam-frontend
  template:
    metadata:
      labels:
        app: ondam-frontend
    spec:
      containers:
        - name: ondam-frontend
          image: morris235/ondam-frontend:latest
          imagePullPolicy: Always
          ports:
            - containerPort: 80
```

</details>

<details><summary>🔧 Frontend Service (ondam-front-ser)</summary>

```yaml
apiVersion: v1
kind: Service
metadata:
  name: ondam-front-ser
  namespace: ondam
spec:
  selector:
    app: ondam-frontend
  type: NodePort
  ports:
    - port: 80
      targetPort: 80
      nodePort: 30080
```

</details>


---

<details><summary>🧩 CI/CD 구성 개요</summary>

- **멀티 레포 구성**: `frontend/`, `backend/`를 Git Submodule로 관리  
- **CI (Jenkins)**: 변경된 서비스만 빌드 및 Docker Hub에 이미지 푸시  
- **CD (Argo CD)**: Git 상태와 Kubernetes 클러스터 자동 동기화  
- **Docker**: Apple Silicon 대응 multi-arch 이미지 빌드  
- **Kubernetes**: 무중단 배포를 위한 `rollout restart` 전략 적용  

</details>

<details><summary>🛎️ 초기 수동 배포 → Jenkins 자동화 전환</summary>

#### ✴️ 수동 배포 당시
- `build-*.sh`, `deploy-*.sh` 와 같은 스크립트를 직접 만들어 실행  
- 반복 작업과 실수 발생 확률 줄임  
- 명령어 문서화 효과로 추후 리마인드 가능  

#### ✅ Jenkins 도입 후
- Webhook 기반 자동 트리거  
- 변경된 서비스만 선택적으로 빌드/배포  
- **무중단 배포 (`rollout restart`) 지원**  
- `.yml` 수정까지 포함하여 **Argo CD에 반영 가능**  

</details>

<details>
  
<summary>⚙️ Jenkins + Argo CD 파이프라인 흐름</summary>

#### ✅ Jenkins (CI)
- GitHub Webhook 기반 트리거 (main 브렌치)  
- 하나의 webhook 신호로 서브모듈별 변경 감지 → 프론트와 백엔드 각각 배포  
- Docker 이미지 빌드 및 Push  
- `k8s/*.yml` 이미지 태그 업데이트 후 Git push
![ondam-jenkins](https://github.com/user-attachments/assets/cc615626-fab8-4d35-a916-b8ade3d4d042)

#### ✅ Argo CD (CD)
- Git 상태 감지 → 클러스터 상태 자동 동기화  
- UI로 배포 상태 모니터링 및 롤백 지원

<img width="1452" alt="argocd-sync" src="https://github.com/user-attachments/assets/58221e60-d3b2-4b85-9aa5-a351c7f3711e" />

<img width="1439" alt="argocd-status2-1" src="https://github.com/user-attachments/assets/0ab763b5-ad79-46af-9d47-1e90df9d9e6d" />

<img width="1442" alt="argocd-status2-2" src="https://github.com/user-attachments/assets/63c6faca-aa1e-429c-b85a-db5828dfc96c" />

</details>

<details><summary>🧱 멀티레포 구성의 장단점</summary>

#### 장점
- **독립적인 빌드 및 배포 가능**  
  - 프론트 변경 시 → `frontend`만 빌드/배포  
  - 백엔드 변경 시 → `backend`만 빌드/배포  
  - Jenkins는 메인 레포 기준으로 하나의 Webhook을 받아 git diff로 변경 감지 후 해당 서브모듈만 빌드 & 배포  

- **협업 효율 증가**  
  - 팀원 간 코드 충돌 최소화  
  - 개발과 배포작업을 병렬적으로 처리 가능  

#### 단점
- **submodule 동기화 이슈**  
  - git submodule update, status, 커밋 누락 등의 실수 발생 가능  
  - 프론트/백을 수정한 뒤 메인 레포에서 커밋 포인터를 갱신해야 하는 작업 오버헤드 발생  

- **구조적 문제**  
  - Github Actions등 다른 CI를 쓰기 어렵고, Jenkins 중심 구조가 고착됨  
  - submodule이 늘어 날수록 유지보수가 어려워짐 (2~3개가 한계)  
  - 하나의 파이프라인으로 N개 이상의 서비스를 배포하기 때문에 복잡성이 증가하고 이력관리가 어려움  

</details>

<details><summary>🚀 Argo CD를 통한 무중단 배포</summary>

- `main` 브랜치의 `k8s/*.yml`이 변경되면 Argo CD가 자동 감지  
- `kubectl rollout restart` 명령과 함께 사용하면,  
  Pod 교체 과정에서 기존 트래픽은 유지되므로 **무중단 배포가 가능**  

</details>

<details><summary>✅ 실행 결과 요약</summary>

1. GitHub → `main` 브랜치에 push 발생  
2. Jenkins Webhook 트리거 → 파이프라인 실행  
3. 변경된 서비스만 빌드 및 Docker 이미지 생성  
4. DockerHub 푸시 + `k8s/*.yml` 수정 및 Git push  
5. Argo CD가 자동 감지 → 클러스터 동기화  
6. **frontend/back 각각의 변경에 대해 독립적, 무중단 배포 실행**  

</details>

<details><summary>🌿 브랜치 전략 및 배포 흐름</summary>

#### 🗂 배포 브랜치 구조

- `develop`: 기능 개발 및 통합 테스트 진행  
- `deploy/dev-snapshot`: 배포 직전 단계의 검증 브랜치  

#### 🔗 멀티레포 연동 방식

- `frontend/`, `backend/`는 각각 별도의 독립 레포로 운영됨  
- 메인 레포인 `be14-4th-piveguyz-ondam`에는 두 레포가 Git Submodule로 연결되어 있음  
- 브랜치 전략은 **서브모듈에서도 동일하게 적용**되며,  
  - `develop` → `deploy/dev-snapshot` → 메인 레포의 main 브렌치에 반영 → jenkins, Argo CD 배포 흐름으로 이어짐  

#### ✅ 흐름 요약

1. 기능은 각 서비스 레포의 `develop` 브랜치에서 개발  
2. 기능 완료 시 `deploy/dev-snapshot`로 머지하여 배포 대상 확정  
3. 메인 레포지토리의 Submodule을 업데이트하여 `main` 브랜치로 커밋  
4. Jenkins → Argo CD로 이어지는 자동화 배포 트리거  

</details>

<br><br>

# 🔜 향후 확장 계획

<br><br>

# 동료평가
|곽우석| peer review |
|:---:|-|
|김석희| 평가 내용 |
|서민종| 평가 내용 |
|이상모| 평가 내용 |
|최혜민| 평가 내용 |

|김석희| peer review |
|:---:|-|
|곽우석| 평가 내용 |
|서민종| 평가 내용 |
|이상모| 평가 내용 |
|최혜민| 평가 내용 |

|서민종| peer review |
|:---:|-|
|곽우석| 평가 내용 |
|김석희| 평가 내용 |
|이상모| 평가 내용 |
|최혜민| 평가 내용 |

|이상모| peer review |
|:---:|-|
|곽우석| 평가 내용 |
|김석희| 평가 내용 |
|서민종| 평가 내용 |
|최혜민| 평가 내용 |

|최혜민| peer review |
|:---:|-|
|곽우석| 평가 내용 |
|김석희| 평가 내용 |
|서민종| 평가 내용 |
|이상모| 평가 내용 |
